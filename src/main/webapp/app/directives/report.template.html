<section id="report">
    <br><br>

    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-center">
                <h2 class="section-heading">Create a Report</h2>

                <h3 class="section-subheading text-muted">Upload your data file and create a report</h3>
            </div>
        </div>


        <div class="form-group">
            <a href="#usage" du-smooth-scroll du-scrollspy><span class="glyphicon glyphicon-question-sign"></span> </a>
            <label class="control-label"> Export your issues from Jira (in XML) and upload them here:</label>
                <span class="fileUpload btn btn-default">
                    <span class="glyphicon glyphicon-upload"></span> Upload file
                    <input type="file" id="uploadFile" ngf-select="uploadFiles($file, $invalidFiles)"
                           ngf-max-height="10000" ngf-max-size="10MB"/>
                </span>
            <br/> <br/>
            <div class="list-group-item" ng-show="f.progress">
                <div class="progress progress-striped active">
                    <div class="progress-bar progress-bar-primary" style="width: {{f.progress}}%;">{{f.name}}
                        {{f.progress}}%
                    </div>
                </div>
            </div>

        </div>
        <!--<div>-->
        <!--<h3>Upload your issues file</h3>-->
        <!--<input type="file" id="file" name="file" class="btn btn-lg btn-success" file-model="myFile"/>-->
        <!--<uib-progressbar max="max" value="dynamic"><span style="color:white; white-space:nowrap;">{{dynamic}}%</span></uib-progressbar>-->
        <!--</div>-->
        <div class="form-group input-group input-group-lg">
            <span class="input-group-addon">Title</span>
            <input type="text" class="form-control" ng-model="title" placeholder="e.g. Sprint 1 Report"/>
        </div>

        <div class="form-group input-group input-group-lg">
            <span class="input-group-addon">Author(s)</span>
            <input type="text" class="form-control" ng-model="authors" placeholder="e.g. John Smith"/>
        </div>

        <br>
        <hr/>
        <div class="row">
            <div class="col-md-6">
                <h3>Build the document structure:</h3>
            </div>
            <div class="col-md-3 col-md-offset-3">
                <button class="btn btn-primary" ng-click="defaultSections()">Default structure</button>
                <button class="btn btn-danger" ng-click="clear()">clear all</button>
            </div>
        </div>

        <div>
            <div ng-repeat="section in sections" class="margin10 well">
                <h3>Section {{$index +1}}</h3>
                <div class="row">
                    <label class="col-md-2">Section type:</label>

                    <div class="col-md-10">
                        <suay-combo-input list-elements="reportTables" ng-model="section.action"/>
                    </div>
                </div>
                <br/>
                <div class="margin10 row">
                    <label class="col-md-2">Columns:</label>

                    <div class="col-md-10">
                        <div ng-repeat="column in section.action.columns">
                            <div class="col-md-3">
                                <label><input type="checkbox" class="margin10" ng-model="section.columns[column.id]"
                                              class="margin10"><span
                                    class="margin10">{{column.text}}</span></label>
                            </div>
                        </div>
                    </div>
                </div>
                <br/>
                <div class="margin10 row" ng-show="section.action.groupBy">
                    <label class="col-md-2">Summarize sub-tasks by:</label>

                    <div class="col-md-10">
                        <div ng-repeat="sumarize in section.action.groupBy">
                            <div class="col-md-3">
                                <label><input type="checkbox" class="margin10"
                                              ng-model="section.groupBy[sumarize.id]"><span
                                    class="margin10">{{sumarize.text}}</span></label>
                            </div>
                        </div>
                    </div>
                </div>
                <br/>
                <button class="btn btn-danger" ng-click="removeSection($index)">remove section</button>
            </div>
            <button class="btn btn-primary pull-right" ng-click="addSection()"><span class="glyphicon glyphicon-plus"/>add
                section
            </button>
            <br/><br/>
            <button class="btn btn-success btn-lg" ng-click="sendData()">Send data</button>
            <a ng-show="docReady" class="btn btn-primary" ng-href="/api/download/{{uuid}}">download file</a>
        </div>
    </div>
    </div>
</section>
